server {
	listen 4242;

	server_name localhost;

	root sudo;

	index index.html;
	cgi cgi_tester .bla;

	location / {
		limit_except GET;
	}

	location /post_body {
		limit_except POST;
		client_max_body_size 100;
	}

	location /directory {
		limit_except GET;
		root YoupiBanane;
		index youpi.bad_extension;
	}
}

server {
	listen 41;

	server_name localhost;

	root sudo;

	cgi cgi_tester;

	error_page 404 /errors/404.html;

	location /post {
		limit_except POST;
		client_max_body_size 50M;
		type cgi;
	}
}

server {
	listen 2421;

	root sudo;

	index index.html;

	error_page 404 /errors/404.html;

	location / {
		limit_except GET;
	}

	location /upload {
		limit_except POST;
		client_max_body_size 50M;
		upload file_storage;
		type upload;
	}

	location /delete {
		limit_except DELETE;
	}

	location /autoindex {
		limit_except GET;
		autoindex on;
		root file_storage;
	}

	location /redirection {
		limit_except GET;
		return https://profile.intra.42.fr/;
	}

	location /download {
		limit_except GET;
		type download;
		root file_storage;
	}
}
